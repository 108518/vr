$(function(){$("a.execute").click(function(e){e.preventDefault(),$("iframe").attr("src","preview.html?q="+LZString.compressToEncodedURIComponent(($("article.active textarea.before").val()||"")+$("article.active div.CodeMirror").get(0).CodeMirror.getValue()+($("article.active textarea.after").val()||"")))}),$("textarea[data-mode]").each(function(){CodeMirror.fromTextArea(this,{lineWrapping:!0,indentWithTabs:!0,smartIndent:!1,autoRefresh:!0})}),$("a.next").click(function(e){e.preventDefault(),window.location.hash=$(this).parents().eq(2).removeClass("active").next().addClass("active").find("a.execute").click().closest("article").attr("id")}),$("a.previous").click(function(e){e.preventDefault(),window.location.hash=$(this).parents().eq(2).removeClass("active").prev().addClass("active").find("a.execute").click().closest("article").attr("id")}),window.location.hash&&$("section article"+window.location.hash).addClass("active").length||$("section article").first().addClass("active"),$("section article").first().find("a.previous").addClass("disabled"),$("section article").last().find("a.next").addClass("disabled"),$("a.execute").first().click();var e=new Peer(Math.random().toString(36).slice(-5),{key:"9a5ls6yq7ann4s4i"});e.on("open",function(e){$("span.peer").text(e)}),e.on("connection",function(e){e.on("open",function(){e.send(LZString.compressToEncodedURIComponent(($("article.active textarea.before").val()||"")+$("article.active div.CodeMirror").get(0).CodeMirror.getValue()+($("article.active textarea.after").val()||"")))})})});